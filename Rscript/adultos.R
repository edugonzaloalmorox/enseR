setwd("/Users/Personas/My Cloud/side_projects/enseR/microdatos")

library(readr)
library(stringr)

# set the arguments for the dictionary
# ------------------------------------
#     - variables: names of the variables
#     - longitud: is the length of each variable; the number of positions associated with each variable


variables = c("	CCAA	"	,
"	IDENTHOGAR	"	,
"	ESTRATO	"	,
"	A7_2a	"	,
"	SEXOa	"	,
"	EDADa	"	,
"	PROXY_0	"	,
"	PROXY_1	"	,
"	PROXY_2	"	,
"	PROXY_2b	"	,
"	PROXY_3a	"	,
"	PROXY_4	"	,
"	PROXY_5	"	,
"	E1_1	"	,
"	PAISEXT	"	,
"	E2_1a	"	,
"	E2_1b	"	,
"	E2_1c	"	,
"	E2_1d	"	,
"	NACEXT	"	,
"	E3	"	,
"	E4	"	,
"	F5	"	,
"	F6	"	,
"	F7_2	"	,
"	F8_2	"	,
"	F9	"	,
"	F10	"	,
"	F11	"	,
"	F12	"	,
"	F13a	"	,
"	F13m	"	,
"	F14	"	,
"	F15	"	,
"	F16a_2	"	,
"	F16m_2	"	,
"	F17a_2	"	,
"	F17m_2	"	,
"	F18	"	,
"	G19	"	,
"	G20	"	,
"	G21a_1	"	,
"	G21b_1	"	,
"	G21c_1	"	,
"	G21a_2	"	,
"	G21b_2	"	,
"	G21c_2	"	,
"	G21a_3	"	,
"	G21b_3	"	,
"	G21c_3	"	,
"	G21a_4	"	,
"	G21b_4	"	,
"	G21c_4	"	,
"	G21a_5	"	,
"	G21b_5	"	,
"	G21c_5	"	,
"	G21a_6	"	,
"	G21b_6	"	,
"	G21c_6	"	,
"	G21a_7	"	,
"	G21b_7	"	,
"	G21c_7	"	,
"	G21a_8	"	,
"	G21b_8	"	,
"	G21c_8	"	,
"	G21a_9	"	,
"	G21b_9	"	,
"	G21c_9	"	,
"	G21a_10	"	,
"	G21b_10	"	,
"	G21c_10	"	,
"	G21a_11	"	,
"	G21b_11	"	,
"	G21c_11	"	,
"	G21a_12	"	,
"	G21b_12	"	,
"	G21c_12	"	,
"	G21a_13	"	,
"	G21b_13	"	,
"	G21c_13	"	,
"	G21a_14	"	,
"	G21b_14	"	,
"	G21c_14	"	,
"	G21a_15	"	,
"	G21b_15	"	,
"	G21c_15	"	,
"	G21a_16	"	,
"	G21b_16	"	,
"	G21c_16	"	,
"	G21a_17	"	,
"	G21b_17	"	,
"	G21c_17	"	,
"	G21a_18	"	,
"	G21b_18	"	,
"	G21c_18	"	,
"	G21a_19	"	,
"	G21b_19	"	,
"	G21c_19	"	,
"	G21a_20	"	,
"	G21b_20	"	,
"	G21c_20	"	,
"	G21a_21	"	,
"	G21b_21	"	,
"	G21c_21	"	,
"	G21a_22	"	,
"	G21b_22	"	,
"	G21c_22	"	,
"	G21a_23	"	,
"	G21b_23	"	,
"	G21c_23	"	,
"	G21a_24	"	,
"	G21b_24	"	,
"	G21c_24	"	,
"	G21a_25	"	,
"	G21b_25	"	,
"	G21c_25	"	,
"	G21a_26	"	,
"	G21b_26	"	,
"	G21c_26	"	,
"	G21a_27	"	,
"	G21b_27	"	,
"	G21c_27	"	,
"	G21a_28	"	,
"	G21b_28	"	,
"	G21c_28	"	,
"	G21a_29	"	,
"	G21b_29	"	,
"	G21c_29	"	,
"	G21a_30	"	,
"	G21b_30	"	,
"	G21c_30	"	,
"	G21_31	"	,
"	G21_31_1b	"	,
"	G21_31_1c	"	,
"	G21_31_2b	"	,
"	G21_31_2c	"	,
"	G21_31_3b	"	,
"	G21_31_3c	"	,
"	H22	"	,
"	H23	"	,
"	H24	"	,
"	H25_1	"	,
"	H25_2	"	,
"	H25_3	"	,
"	H25_4	"	,
"	H25_5	"	,
"	H25_6	"	,
"	H25_7	"	,
"	H25_8	"	,
"	I26.1	"	,
"	I26.2	"	,
"	I26.3	"	,
"	I26.4	"	,
"	I26.5	"	,
"	I26.6	"	,
"	J27_1	"	,
"	J27_2	"	,
"	J28_1	"	,
"	J28_2	"	,
"	K29	"	,
"	K30	"	,
"	K31_1	"	,
"	K31_2	"	,
"	K31_3	"	,
"	K31_4	"	,
"	K31_5	"	,
"	K31_6	"	,
"	K31_7	"	,
"	K31_8	"	,
"	K31_9	"	,
"	K31_10	"	,
"	K31_11	"	,
"	K31_12	"	,
"	K31_13	"	,
"	K31_14	"	,
"	K31_15	"	,
"	K31_16	"	,
"	K31_17	"	,
"	K31_18	"	,
"	K31_19	"	,
"	K31_20	"	,
"	K31_21	"	,
"	K31_22	"	,
"	K31_23	"	,
"	K31_24	"	,
"	K31_25	"	,
"	K31_26	"	,
"	K31_27	"	,
"	L32	"	,
"	L33	"	,
"	L34	"	,
"	L35	"	,
"	L36	"	,
"	L37	"	,
"	L38	"	,
"	L39	"	,
"	M40_1	"	,
"	M40_2	"	,
"	M40_3	"	,
"	M40_4	"	,
"	M40_5	"	,
"	M40_6	"	,
"	M40_7	"	,
"	M40_8	"	,
"	M40_9	"	,
"	M40_10	"	,
"	M40_11	"	,
"	M40_12	"	,
"	M41	"	,
"	M42	"	,
"	N43_1	"	,
"	N43_2	"	,
"	N43_3	"	,
"	N44_1	"	,
"	N44_2	"	,
"	N45_1	"	,
"	N45_2	"	,
"	N46	"	,
"	N47	"	,
"	N48	"	,
"	N49_1	"	,
"	N49_2	"	,
"	N49_3	"	,
"	N50_1	"	,
"	N50_2	"	,
"	N50_3	"	,
"	N51	"	,
"	N52_1	"	,
"	N52_2	"	,
"	N52_3	"	,
"	N52_4	"	,
"	N52_5	"	,
"	N53_1	"	,
"	N53_2	"	,
"	N53_3	"	,
"	N53_4	"	,
"	N54_1	"	,
"	N54_2	"	,
"	N54_3	"	,
"	N54_4	"	,
"	N55_1	"	,
"	N55_2	"	,
"	N55_3	"	,
"	N55_4	"	,
"	N55_5	"	,
"	N56_1	"	,
"	N56_2	"	,
"	N57_1	"	,
"	N57_2	"	,
"	N57_3	"	,
"	N57_4	"	,
"	N57_5	"	,
"	N57_6	"	,
"	N57_7	"	,
"	N57_8	"	,
"	N57_9	"	,
"	N57_10	"	,
"	N58	"	,
"	N59_1	"	,
"	N59_2	"	,
"	N59_3	"	,
"	N59_4	"	,
"	N59_5	"	,
"	N59_6	"	,
"	N59_7	"	,
"	N59_8	"	,
"	O60	"	,
"	O61	"	,
"	O62	"	,
"	O63	"	,
"	O64	"	,
"	O65	"	,
"	O66	"	,
"	O67	"	,
"	O68	"	,
"	O69	"	,
"	O70	"	,
"	O71	"	,
"	O72	"	,
"	O73_1	"	,
"	O73_2	"	,
"	O73_3	"	,
"	O74_1	"	,
"	O74_2	"	,
"	O74_3	"	,
"	O75_1	"	,
"	O75_2	"	,
"	O76	"	,
"	O77	"	,
"	O78	"	,
"	O79	"	,
"	O80_1	"	,
"	O80_2	"	,
"	O80_3	"	,
"	O80_4	"	,
"	O80_5	"	,
"	O80_6	"	,
"	O80_7	"	,
"	O80_8	"	,
"	O80_9	"	,
"	P81_a	"	,
"	P81_b	"	,
"	P82_1a	"	,
"	P82_1b	"	,
"	P82_2a	"	,
"	P82_2b	"	,
"	P82_3a	"	,
"	P82_3b	"	,
"	P82_4a	"	,
"	P82_4b	"	,
"	P82_5a	"	,
"	P82_5b	"	,
"	P82_6a	"	,
"	P82_6b	"	,
"	P82_7a	"	,
"	P82_7b	"	,
"	P82_8a	"	,
"	P82_8b	"	,
"	P82_9a	"	,
"	P82_9b	"	,
"	P82_10a	"	,
"	P82_10b	"	,
"	P82_11a	"	,
"	P82_11b	"	,
"	P82_12a	"	,
"	P82_12b	"	,
"	P82_13a	"	,
"	P82_13b	"	,
"	P82_14a	"	,
"	P82_14b	"	,
"	P82_15a	"	,
"	P82_15b	"	,
"	P82_16a	"	,
"	P82_16b	"	,
"	P82_17a	"	,
"	P82_17b	"	,
"	P82_18a	"	,
"	P82_18b	"	,
"	P82_19a	"	,
"	P82_19b	"	,
"	P82_20a	"	,
"	P82_20b	"	,
"	P82_21a	"	,
"	P82_21b	"	,
"	P83_1	"	,
"	P83_2	"	,
"	Q84	"	,
"	Q85	"	,
"	Q86	"	,
"	Q87	"	,
"	Q88	"	,
"	Q89	"	,
"	Q90	"	,
"	Q91	"	,
"	Q92	"	,
"	Q93	"	,
"	Q94	"	,
"	Q95	"	,
"	Q96	"	,
"	Q97	"	,
"	Q98	"	,
"	Q99	"	,
"	Q100	"	,
"	Q101	"	,
"	R102	"	,
"	R103	"	,
"	R104	"	,
"	S105	"	,
"	S106a_1	"	,
"	S106a_2	"	,
"	S106a_3	"	,
"	S106b_1	"	,
"	S106b_2	"	,
"	S106b_3	"	,
"	S107	"	,
"	S108	"	,
"	S109	"	,
"	S110	"	,
"	S111	"	,
"	S112_1	"	,
"	S112_2	"	,
"	S113_1	"	,
"	S113_2	"	,
"	S113_3	"	,
"	S113_4	"	,
"	S113_5	"	,
"	S113a_6	"	,
"	S113_7	"	,
"	S113_8	"	,
"	S114	"	,
"	S115_1	"	,
"	S115_2	"	,
"	S115_3	"	,
"	S115_4	"	,
"	S115_5	"	,
"	S115_6	"	,
"	S115_7	"	,
"	S115_8	"	,
"	S116a_1	"	,
"	S116a_2	"	,
"	S116a_3	"	,
"	S116b_1	"	,
"	S116b_2	"	,
"	S116b_3	"	,
"	S117	"	,
"	S118	"	,
"	S119	"	,
"	T120	"	,
"	T121	"	,
"	T122	"	,
"	T123	"	,
"	T124Cer	"	,
"	T124Cer_1	"	,
"	T124Cer_2	"	,
"	T124Cer_3	"	,
"	T124Cer_4	"	,
"	T124Cer_5	"	,
"	T124Cer_6	"	,
"	T124Cer_7	"	,
"	T124Vin	"	,
"	T124Vin_1	"	,
"	T124Vin_2	"	,
"	T124Vin_3	"	,
"	T124Vin_4	"	,
"	T124Vin_5	"	,
"	T124Vin_6	"	,
"	T124Vin_7	"	,
"	T124Vermut	"	,
"	T124Vermut_1	"	,
"	T124Vermut_2	"	,
"	T124Vermut_3	"	,
"	T124Vermut_4	"	,
"	T124Vermut_5	"	,
"	T124Vermut_6	"	,
"	T124Vermut_7	"	,
"	T124Lic	"	,
"	T124Lic_1	"	,
"	T124Lic_2	"	,
"	T124Lic_3	"	,
"	T124Lic_4	"	,
"	T124Lic_5	"	,
"	T124Lic_6	"	,
"	T124Lic_7	"	,
"	T124Comb	"	,
"	T124Comb_1	"	,
"	T124Comb_2	"	,
"	T124Comb_3	"	,
"	T124Comb_4	"	,
"	T124Comb_5	"	,
"	T124Comb_6	"	,
"	T124Comb_7	"	,
"	T124Sidra	"	,
"	T124Sidra_1	"	,
"	T124Sidra_2	"	,
"	T124Sidra_3	"	,
"	T124Sidra_4	"	,
"	T124Sidra_5	"	,
"	T124Sidra_6	"	,
"	T124Sidra_7	"	,
"	T125	"	,
"	T126a	"	,
"	T126b	"	,
"	U127	"	,
"	U128	"	,
"	U129	"	,
"	U130_1	"	,
"	U130_2a	"	,
"	U130_2b	"	,
"	U130_3	"	,
"	U130_4a	"	,
"	U130_4b	"	,
"	U130_5	"	,
"	U130_6a	"	,
"	U130_6b	"	,
"	U130_7a	"	,
"	U130_7b	"	,
"	V131	"	,
"	V132_1	"	,
"	V132_2	"	,
"	V132_3	"	,
"	V132_4	"	,
"	V132_5	"	,
"	V132_6	"	,
"	V132_7	"	,
"	V133_1	"	,
"	V133_1a	"	,
"	V133_2	"	,
"	V133_3	"	,
"	V133_4	"	,
"	V133_5	"	,
"	V133_6	"	,
"	V133_7	"	,
"	V133_7a	"	,
"	V133_8	"	,
"	V133_9	"	,
"	V133_10	"	,
"	V133_11	"	,
"	V133_12	"	,
"	V133_13	"	,
"	V133_14	"	,
"	V133_15	"	,
"	V133_15a	"	,
"	V134	"	,
"	V135	"	,
"	V136	"	,
"	W137	"	,
"	W138_1	"	,
"	W138_2	"	,
"	W138_3	"	,
"	W138_4	"	,
"	W138_5	"	,
"	Y139_1	"	,
"	Y139_2	"	,
"	Y139_3	"	,
"	Y139_4	"	,
"	Y139_5	"	,
"	Y139_6	"	,
"	Y139_7	"	,
"	Y139_8	"	,
"	Y139_9	"	,
"	Y139_10	"	,
"	Y139_11	"	,
"	Z140	"	,
"	Z140_a1	"	,
"	Z140_a2	"	,
"	Z140_a3	"	,
"	Z140_a4	"	,
"	Z140_a5	"	,
"	Z140_a6	"	,
"	Z140_a7	"	,
"	Z140_a8	"	,
"	Z140_a9	"	,
"	Z140_a10	"	,
"	Z140_a11	"	,
"	Z140_a12	"	,
"	Z140_a13	"	,
"	Z140_a14	"	,
"	Z140_a15	"	,
"	Z140_m1	"	,
"	Z140_m2	"	,
"	Z140_m3	"	,
"	Z140_m4	"	,
"	Z140_m5	"	,
"	Z140_m6	"	,
"	Z140_m7	"	,
"	Z140_m8	"	,
"	Z140_m9	"	,
"	Z140_m10	"	,
"	Z140_m11	"	,
"	Z140_m12	"	,
"	Z140_m13	"	,
"	Z140_m14	"	,
"	Z140_m15	"	,
"	Z141	"	,
"	Z141_1	"	,
"	Z141_2	"	,
"	Z142	"	,
"	Z142_1	"	,
"	Z143_1	"	,
"	Z143_2	"	,
"	Z144	"	,
"	Z144_1	"	,
"	Z144_2	"	,
"	Z145	"	,
"	Z145_1	"	,
"	Z145_2	"	,
"	FACTORADULTO	"	,
"	CLASE_PR	"	,
"	IMCa	"	,
"	DEPFUNC1	"	,
"	DEPFUNC2	"	,
"	DEPFUNC3	"	,
"	SALUDMENTAL	"	,
"	APSOCIAL	"	,
"	CMD1	"	,
"	CMD2	"	,
"	CMD3	"	)

var = gsub("\t", "", variables) # cleaning "\t

longitud = c(2	,
             8	,
             1	,
             2	,
             1	,
             3	,
             1	,
             1	,
             1	,
             2	,
             1	,
             3	,
             1	,
             1	,
             3	,
             1	,
             1	,
             1	,
             1	,
             3	,
             2	,
             1	,
             1	,
             1	,
             3	,
             3	,
             1	,
             1	,
             1	,
             2	,
             1	,
             1	,
             1	,
             2	,
             3	,
             3	,
             3	,
             3	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             3	,
             1	,
             2	,
             1	,
             2	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             2	,
             2	,
             1	,
             2	,
             1	,
             2	,
             1	,
             2	,
             1	,
             2	,
             2	,
             2	,
             2	,
             2	,
             2	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             2	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             2	,
             3	,
             1	,
             1	,
             2	,
             1	,
             1	,
             1	,
             3	,
             1	,
             1	,
             3	,
             1	,
             1	,
             1	,
             2	,
             2	,
             2	,
             2	,
             2	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             3	,
             3	,
             1	,
             1	,
             1	,
             1	,
             1	,
             2	,
             2	,
             2	,
             2	,
             1	,
             1	,
             1	,
             2	,
             2	,
             2	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             2	,
             2	,
             2	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             2	,
             2	,
             2	,
             2	,
             2	,
             2	,
             2	,
             1	,
             2	,
             2	,
             2	,
             2	,
             2	,
             2	,
             2	,
             1	,
             2	,
             2	,
             2	,
             2	,
             2	,
             2	,
             2	,
             1	,
             2	,
             2	,
             2	,
             2	,
             2	,
             2	,
             2	,
             1	,
             2	,
             2	,
             2	,
             2	,
             2	,
             2	,
             2	,
             1	,
             2	,
             2	,
             2	,
             2	,
             2	,
             2	,
             2	,
             2	,
             1	,
             1	,
             2	,
             1	,
             1	,
             1	,
             2	,
             2	,
             1	,
             2	,
             2	,
             1	,
             2	,
             2	,
             2	,
             2	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             2	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             2	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             2	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             1	,
             2	,
             2	,
             1	,
             2	,
             2	,
             2	,
             1	,
             2	,
             2	,
             1	,
             2	,
             2	,
             11	,
             1	,
             1	,
             1	,
             1	,
             1	,
             2	,
             2	,
             5	,
             5	,
             5)



# load the microdata
adults = read_fwf(file = "MICRODATO ADULTO ANONIMIZADO.txt",
                  skip = 0,
                  fwf_widths(longitud, var))
# assign labels

# load information
install.packages("readxl")
library("readxl")
library(dplyr)
lab_adult = read_excel("/Users/Personas/My Cloud/side_projects/enseR/diseno/ADULTOS ENSE 2011-2012.xls", sheet = "Sheet1")
lab_adult = lab_adult[-1,]

head(lab_adult)

attr(adults, "variable.labels") <- unique(lab_adult$`DESCRIPCIÓN DEL CAMPO`)
